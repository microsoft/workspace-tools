## API Report File for "workspace-tools"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import { SpawnSyncOptions } from 'child_process';
import { SpawnSyncReturns } from 'child_process';

// @public
export function addGitObserver(observer: GitObserver): () => void;

// @public
export interface BerryLockFile {
    // (undocumented)
    [key: string]: {
        version: string;
        dependencies: {
            [dependency: string]: string;
        };
    };
    // (undocumented)
    __metadata: any;
}

// @public
export interface Catalog {
    // (undocumented)
    [packageName: string]: string;
}

// @public
export interface Catalogs {
    default?: Catalog;
    named?: NamedCatalogs;
}

// @public
export function catalogsToYaml(catalogs: Catalogs, options?: {
    indent?: number | string;
}): string;

// @public
export function clearGitObservers(): void;

// Warning: (ae-forgotten-export) The symbol "GitCommitOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function commit(options: GitCommitOptions): void;

// @public @deprecated (undocumented)
export function commit(message: string, cwd: string, options?: string[]): void;

// @public (undocumented)
export function createDependencyMap(packages: PackageInfos, options?: PackageDependenciesOptions): DependencyMap;

// @public (undocumented)
export function createPackageGraph(packages: PackageInfos, filters?: PackageGraphFilter[] | PackageGraphFilter): PackageGraph;

// @public (undocumented)
export type Dependencies = {
    [key in string]: string;
};

// @public (undocumented)
export interface DependencyMap {
    // (undocumented)
    dependencies: Map<string, Set<string>>;
    // (undocumented)
    dependents: Map<string, Set<string>>;
}

// Warning: (ae-forgotten-export) The symbol "GitFetchOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function fetchRemote(options: GitFetchOptions): void;

// @public @deprecated (undocumented)
export function fetchRemote(remote: string, cwd: string): void;

// @public @deprecated
export function fetchRemoteBranch(remote: string, remoteBranch: string, cwd: string): void;

// @public
export function findGitRoot(cwd: string): string;

// @public
export function findPackageRoot(cwd: string): string | undefined;

// @public
export function findProjectRoot(cwd: string): string;

// @public
export function findWorkspacePath(workspaces: WorkspaceInfos, packageName: string): string | undefined;

// @public
export function getAllPackageJsonFiles(cwd: string): string[];

// @public
export function getAllPackageJsonFilesAsync(cwd: string): Promise<string[]>;

// Warning: (ae-forgotten-export) The symbol "GitBranchOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function getBranchChanges(options: GitBranchOptions): string[];

// @public @deprecated (undocumented)
export function getBranchChanges(branch: string, cwd: string): string[];

// Warning: (ae-forgotten-export) The symbol "GitCommonOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function getBranchName(options: GitCommonOptions): string;

// @public @deprecated (undocumented)
export function getBranchName(cwd: string): string;

// @public
export function getCatalogs(cwd: string): Catalogs | undefined;

// @public
export function getCatalogVersion(params: {
    name: string;
    version: string;
    catalogs: Catalogs | undefined;
}): string | undefined;

// Warning: (ae-forgotten-export) The symbol "GetChangedPackagesOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function getChangedPackages(params: GetChangedPackagesOptions): string[];

// @public @deprecated (undocumented)
export function getChangedPackages(cwd: string, target?: string, ignoreGlobs?: string[], returnAllPackagesOnNoMatch?: boolean): string[];

// Warning: (ae-forgotten-export) The symbol "GetChangedPackagesBetweenRefsOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function getChangedPackagesBetweenRefs(params: GetChangedPackagesBetweenRefsOptions): string[];

// @public @deprecated (undocumented)
export function getChangedPackagesBetweenRefs(cwd: string, fromRef: string, toRef?: string, ignoreGlobs?: string[], returnAllPackagesOnNoMatch?: boolean): string[];

// Warning: (ae-forgotten-export) The symbol "GetChangesBetweenRefsOptions" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
type GetChangedPackagesBetweenRefsOptions = Omit<GetChangedPackagesOptions, "target"> & Pick<GetChangesBetweenRefsOptions, "fromRef" | "toRef">;

// @public (undocumented)
type GetChangedPackagesOptions = GitCommonOptions & {
    target?: string;
    ignoreGlobs?: string[];
    returnAllPackagesOnNoMatch?: boolean;
};

// @public @deprecated
export function getChanges(branch: string, cwd: string): string[];

// @public
export function getChangesBetweenRefs(options: GetChangesBetweenRefsOptions): string[];

// @public @deprecated (undocumented)
export function getChangesBetweenRefs(fromRef: string, toRef: string, options: string[], pattern: string, cwd: string): string[];

// @public (undocumented)
type GetChangesBetweenRefsOptions = GitCommonOptions & {
    fromRef: string;
    toRef?: string;
    options?: string[];
    pattern?: string;
};

// @public
export function getConfigValue(options: {
    key: string;
} & GitCommonOptions): string | null;

// @public
export function getCurrentHash(options: GitCommonOptions): string | null;

// @public @deprecated (undocumented)
export function getCurrentHash(cwd: string): string | null;

// @public
export function getDefaultBranch(options: GitCommonOptions): string;

// @public @deprecated (undocumented)
export function getDefaultBranch(cwd: string): string;

// @public
export function getDefaultRemote(options: GetDefaultRemoteOptions): string;

// @public @deprecated (undocumented)
export function getDefaultRemote(cwd: string): string;

// @public
export function getDefaultRemoteBranch(options: GetDefaultRemoteBranchOptions): string;

// @public @deprecated
export function getDefaultRemoteBranch(...args: string[]): string;

// @public (undocumented)
export type GetDefaultRemoteBranchOptions = GetDefaultRemoteOptions & {
    branch?: string;
};

// @public (undocumented)
export type GetDefaultRemoteOptions = {
    cwd: string;
    strict?: boolean;
    verbose?: boolean;
};

// @public @deprecated (undocumented)
export function getDependentMap(packages: PackageInfos): Map<string, Set<string>>;

// @public
export function getFileAddedHash(options: {
    filename: string;
} & GitCommonOptions): string | undefined;

// @public @deprecated (undocumented)
export function getFileAddedHash(filename: string, cwd: string): string | undefined;

// @public
export function getFullBranchRef(options: GitBranchOptions): string | null;

// @public @deprecated (undocumented)
export function getFullBranchRef(branch: string, cwd: string): string | null;

// @public @deprecated (undocumented)
export const getInternalDeps: typeof getPackageDependencies;

// @public
export function getPackageDependencies(info: PackageInfo, internalPackages: Set<string>, options?: PackageDependenciesOptions): string[];

// @public
export function getPackageInfo(cwd: string): PackageInfo | undefined;

// @public
export function getPackageInfoAsync(cwd: string): Promise<PackageInfo | undefined>;

// @public
export function getPackageInfos(cwd: string): PackageInfos;

// @public
export function getPackageInfosAsync(cwd: string): Promise<PackageInfos>;

// Warning: (ae-forgotten-export) The symbol "GetPackagesByFilesOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function getPackagesByFiles(options: GetPackagesByFilesOptions): string[];

// @public @deprecated (undocumented)
export function getPackagesByFiles(root: string, files: string[], ignoreGlobs?: string[], returnAllPackagesOnNoMatch?: boolean): string[];

// @public (undocumented)
interface GetPackagesByFilesOptions {
    files: string[];
    ignoreGlobs?: string[];
    returnAllPackagesOnNoMatch?: boolean;
    root: string;
}

// @public @deprecated
export function getParentBranch(cwd: string): string | null;

// @public @deprecated (undocumented)
export function getPnpmWorkspaceRoot(cwd: string): string;

// @public
export function getPnpmWorkspaces(cwd: string): WorkspaceInfos;

// @public
export function getRecentCommitMessages(options: GitBranchOptions): string[];

// @public @deprecated (undocumented)
export function getRecentCommitMessages(branch: string, cwd: string): string[];

// @public
export function getRemoteBranch(options: GitBranchOptions): string | null;

// @public @deprecated (undocumented)
export function getRemoteBranch(branch: string, cwd: string): string | null;

// @public @deprecated (undocumented)
export function getRushWorkspaceRoot(cwd: string): string;

// @public
export function getRushWorkspaces(cwd: string): WorkspaceInfos;

// @public
export function getScopedPackages(search: string[], packages: {
    [pkg: string]: unknown;
} | string[]): string[];

// @public
export function getShortBranchName(options: {
    fullBranchRef: string;
} & GitCommonOptions): string | null;

// @public @deprecated (undocumented)
export function getShortBranchName(fullBranchRef: string, cwd: string): string | null;

// @public
export function getStagedChanges(options: GitCommonOptions): string[];

// @public @deprecated (undocumented)
export function getStagedChanges(cwd: string): string[];

// @public @deprecated
export function getTransitiveConsumers(targets: string[], packages: PackageInfos, scope?: string[]): string[];

// @public (undocumented)
export const getTransitiveDependencies: typeof getTransitiveProviders;

// @public (undocumented)
export const getTransitiveDependents: typeof getTransitiveConsumers;

// @public @deprecated
export function getTransitiveProviders(targets: string[], packages: PackageInfos): string[];

// @public
export function getUnstagedChanges(options: GitCommonOptions): string[];

// @public @deprecated (undocumented)
export function getUnstagedChanges(cwd: string): string[];

// @public
export function getUntrackedChanges(options: GitCommonOptions): string[];

// @public @deprecated (undocumented)
export function getUntrackedChanges(cwd: string): string[];

// @public
export function getUserEmail(options: GitCommonOptions): string | null;

// @public @deprecated (undocumented)
export function getUserEmail(cwd: string): string | null;

// Warning: (ae-forgotten-export) The symbol "WorkspaceManager" needs to be exported by the entry point index.d.ts
//
// @public
export function getWorkspaceManagerRoot(cwd: string, preferredManager?: WorkspaceManager): string | undefined;

// @public
export function getWorkspacePackagePaths(cwd: string): string[];

// @public
export function getWorkspacePackagePathsAsync(cwd: string): Promise<string[]>;

// @public @deprecated
export function getWorkspaceRoot(cwd: string, preferredManager?: WorkspaceManager): string | undefined;

// @public
export function getWorkspaces(cwd: string): WorkspaceInfos;

// @public
export function getWorkspacesAsync(cwd: string): Promise<WorkspaceInfos>;

// @public @deprecated (undocumented)
export function getYarnWorkspaceRoot(cwd: string): string;

// @public
export function getYarnWorkspaces(cwd: string): WorkspaceInfos;

// @public
export function git(args: string[], options?: GitOptions): GitProcessOutput;

// @public
type GitBranchOptions = {
    branch: string;
} & GitCommonOptions;

// @public (undocumented)
type GitCommitOptions = GitCommonOptions & {
    message: string;
    options?: string[];
};

// @public
type GitCommonOptions = {
    cwd: string;
    throwOnError?: boolean;
};

// @public (undocumented)
export class GitError extends Error {
    constructor(message: string, originalError?: unknown, gitOutput?: GitProcessOutput);
    // (undocumented)
    readonly gitOutput?: GitProcessOutput;
    // (undocumented)
    readonly originalError: unknown;
}

// @public
export function gitFailFast(args: string[], options?: GitCommonOptions & {
    noExitCode?: boolean;
}): void;

// @public (undocumented)
type GitFetchOptions = GitCommonOptions & {
    remote?: string;
    remoteBranch?: string;
    options?: string[];
};

// @public (undocumented)
type GitInitOptions = Omit<GitCommonOptions, "throwOnError"> & {
    email?: string;
    username?: string;
};

// @public
export type GitObserver = (args: string[], output: GitProcessOutput) => void;

// @public (undocumented)
export type GitOptions = Omit<SpawnSyncOptions, "cwd"> & GitCommonOptions & {
    description?: string;
    debug?: boolean;
};

// @public (undocumented)
export type GitProcessOutput = {
    stderr: string;
    stdout: string;
    success: boolean;
} & Omit<SpawnSyncReturns<string | Buffer>, "stdout" | "stderr">;

// @public (undocumented)
type GitStageOptions = {
    patterns: string[];
} & GitCommonOptions;

// Warning: (ae-forgotten-export) The symbol "GitInitOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function init(options: GitInitOptions): void;

// @public @deprecated (undocumented)
export function init(cwd: string, email?: string, username?: string): void;

// @public
export function isCatalogVersion(version: string): boolean;

// @public
export function isChildOf(child: string, parent: string): boolean;

// @public
export function listAllTrackedFiles(options: {
    patterns: string[];
} & GitCommonOptions): string[];

// @public @deprecated (undocumented)
export function listAllTrackedFiles(patterns: string[], cwd: string): string[];

// @public @deprecated (undocumented)
export function listOfWorkspacePackageNames(workspaces: WorkspaceInfos): string[];

// @public (undocumented)
export type LockDependency = {
    version: string;
    dependencies?: Dependencies;
};

// @public (undocumented)
export function nameAtVersion(name: string, version: string): string;

// @public
export interface NamedCatalogs {
    // (undocumented)
    [catalogName: string]: Catalog;
}

// @public
export interface NpmLockFile {
    // (undocumented)
    dependencies?: {
        [key: string]: LockDependency;
    };
    // (undocumented)
    lockfileVersion?: 1 | 2 | 3;
    // (undocumented)
    name: string;
    // (undocumented)
    packages?: {
        ""?: NpmWorkspacesInfo;
    } & {
        [key: string]: NpmSymlinkInfo | LockDependency;
    };
    // (undocumented)
    requires?: boolean;
    // (undocumented)
    version: string;
}

// @public (undocumented)
export interface NpmSymlinkInfo {
    // (undocumented)
    dependencies?: {
        [key: string]: LockDependency;
    };
    // (undocumented)
    dev?: boolean;
    // (undocumented)
    devOptional?: boolean;
    // (undocumented)
    integrity?: "sha512" | "sha1";
    // (undocumented)
    link: boolean;
    // (undocumented)
    optional?: boolean;
    // (undocumented)
    resolved: string;
}

// @public (undocumented)
export interface NpmWorkspacesInfo {
    // (undocumented)
    version: string;
    // (undocumented)
    workspaces: {
        packages: string[];
    };
}

// @public (undocumented)
export interface PackageDependenciesOptions {
    // (undocumented)
    withDevDependencies?: boolean;
    // (undocumented)
    withOptionalDependencies?: boolean;
    // (undocumented)
    withPeerDependencies?: boolean;
}

// @public
export interface PackageDependency {
    // (undocumented)
    dependency: string;
    // (undocumented)
    name: string;
}

// @public
export interface PackageGraph {
    // (undocumented)
    dependencies: PackageDependency[];
    // (undocumented)
    packages: string[];
}

// @public (undocumented)
export interface PackageGraphFilter {
    // (undocumented)
    includeDependencies?: boolean;
    // (undocumented)
    includeDependents?: boolean;
    // (undocumented)
    namePatterns: string[];
    // (undocumented)
    withDevDependencies?: boolean;
    // (undocumented)
    withOptionalDependencies?: boolean;
    // (undocumented)
    withPeerDependencies?: boolean;
}

// @public
export interface PackageInfo {
    // (undocumented)
    [key: string]: any;
    // (undocumented)
    dependencies?: {
        [dep: string]: string;
    };
    // (undocumented)
    devDependencies?: {
        [dep: string]: string;
    };
    // (undocumented)
    group?: string;
    // (undocumented)
    name: string;
    // (undocumented)
    optionalDependencies?: {
        [dep: string]: string;
    };
    packageJsonPath: string;
    // (undocumented)
    peerDependencies?: {
        [dep: string]: string;
    };
    // (undocumented)
    private?: boolean;
    // (undocumented)
    repository?: string | {
        type: string;
        url: string;
        directory?: string;
    };
    // (undocumented)
    scripts?: {
        [scriptName: string]: string;
    };
    // (undocumented)
    version: string;
    workspaces?: string[] | {
        packages: string[];
        nohoist?: string[];
        catalog?: Catalog;
        catalogs?: NamedCatalogs;
        [key: string]: any;
    };
}

// @public
export interface PackageInfos {
    // (undocumented)
    [pkgName: string]: PackageInfo;
}

// @public (undocumented)
export type ParsedLock = {
    type: "success" | "merge" | "conflict";
    object: {
        [key in string]: LockDependency;
    };
};

// @public (undocumented)
type ParsedRemoteBranch = {
    remote: string;
    remoteBranch: string;
};

// @public (undocumented)
export function parseLockFile(packageRoot: string): Promise<ParsedLock>;

// Warning: (ae-forgotten-export) The symbol "ParseRemoteBranchOptions" needs to be exported by the entry point index.d.ts
// Warning: (ae-forgotten-export) The symbol "ParsedRemoteBranch" needs to be exported by the entry point index.d.ts
//
// @public
export function parseRemoteBranch(options: ParseRemoteBranchOptions): ParsedRemoteBranch;

// @public @deprecated (undocumented)
export function parseRemoteBranch(branch: string): ParsedRemoteBranch;

// @public (undocumented)
type ParseRemoteBranchOptions = GitCommonOptions & {
    branch: string;
    knownRemotes?: string[];
};

// @public
export interface PnpmLockFile {
    // (undocumented)
    packages: {
        [name: string]: any;
    };
}

// @public (undocumented)
export function queryLockFile(name: string, versionRange: string, lock: ParsedLock): LockDependency;

// @public
export function revertLocalChanges(options: GitCommonOptions): boolean;

// @public @deprecated (undocumented)
export function revertLocalChanges(cwd: string): boolean;

// @public
export function searchUp(filePath: string | string[], cwd: string): string | undefined;

// @public
export function setCachingEnabled(enabled: boolean): void;

// Warning: (ae-forgotten-export) The symbol "GitStageOptions" needs to be exported by the entry point index.d.ts
//
// @public
export function stage(options: GitStageOptions): void;

// @public @deprecated (undocumented)
export function stage(patterns: string[], cwd: string): void;

// @public
export function stageAndCommit(options: GitStageOptions & GitCommitOptions): void;

// @public @deprecated (undocumented)
export function stageAndCommit(patterns: string[], message: string, cwd: string, commitOptions?: string[]): void;

// @public @deprecated (undocumented)
export type WorkspaceInfo = WorkspaceInfos;

// @public
export type WorkspaceInfos = WorkspacePackageInfo[];

// @public (undocumented)
type WorkspaceManager = "yarn" | "pnpm" | "rush" | "npm" | "lerna";

// @public
export interface WorkspacePackageInfo {
    name: string;
    packageJson: PackageInfo;
    path: string;
}

// (No @packageDocumentation comment for this package)

```
