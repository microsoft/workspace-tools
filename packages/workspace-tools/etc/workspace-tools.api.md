## API Report File for "workspace-tools"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

/// <reference types="node" />

import { SpawnSyncOptions } from 'child_process';
import { SpawnSyncReturns } from 'child_process';

// @public
export function addGitObserver(observer: GitObserver): () => void;

// @public (undocumented)
export interface BerryLockFile {
    // (undocumented)
    [key: string]: {
        version: string;
        dependencies: {
            [dependency: string]: string;
        };
    };
    // (undocumented)
    __metadata: any;
}

// @public
export function clearGitObservers(): void;

// @public (undocumented)
export function commit(message: string, cwd: string, options?: string[]): void;

// Warning: (ae-forgotten-export) The symbol "PackageDependenciesOptions" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export function createDependencyMap(packages: PackageInfos, options?: PackageDependenciesOptions): DependencyMap;

// @public (undocumented)
export function createPackageGraph(packages: PackageInfos, filters?: PackageGraphFilter[] | PackageGraphFilter): PackageGraph;

// @public (undocumented)
export type Dependencies = {
    [key in string]: string;
};

// @public (undocumented)
export interface DependencyMap {
    // (undocumented)
    dependencies: Map<string, Set<string>>;
    // (undocumented)
    dependents: Map<string, Set<string>>;
}

// @public (undocumented)
export function fetchRemote(remote: string, cwd: string): void;

// @public (undocumented)
export function fetchRemoteBranch(remote: string, remoteBranch: string, cwd: string): void;

// @public
export function findGitRoot(cwd: string): string;

// @public
export function findPackageRoot(cwd: string): string | undefined;

// @public
export function findProjectRoot(cwd: string): string;

// @public
export function findWorkspacePath(workspaces: WorkspaceInfo, packageName: string): string | undefined;

// @public
export function getAllPackageJsonFiles(cwd: string): string[];

// @public
export function getAllPackageJsonFilesAsync(cwd: string): Promise<string[]>;

// @public
export function getBranchChanges(branch: string, cwd: string): string[];

// @public (undocumented)
export function getBranchName(cwd: string): string | null;

// @public
export function getChangedPackages(cwd: string, target: string | undefined, ignoreGlobs?: string[]): string[];

// @public
export function getChangedPackagesBetweenRefs(cwd: string, fromRef: string, toRef?: string, ignoreGlobs?: string[]): string[];

// @public (undocumented)
export function getChanges(branch: string, cwd: string): string[];

// @public (undocumented)
export function getChangesBetweenRefs(fromRef: string, toRef: string, options: string[], pattern: string, cwd: string): string[];

// @public (undocumented)
export function getCurrentHash(cwd: string): string | null;

// @public
export function getDefaultBranch(cwd: string): string;

// @public
export function getDefaultRemote(options: GetDefaultRemoteOptions): string;

// @public @deprecated (undocumented)
export function getDefaultRemote(cwd: string): string;

// @public
export function getDefaultRemoteBranch(options: GetDefaultRemoteBranchOptions): string;

// @public @deprecated
export function getDefaultRemoteBranch(...args: string[]): string;

// @public (undocumented)
export type GetDefaultRemoteBranchOptions = GetDefaultRemoteOptions & {
    branch?: string;
};

// @public (undocumented)
export type GetDefaultRemoteOptions = {
    cwd: string;
    strict?: boolean;
    verbose?: boolean;
};

// @public @deprecated (undocumented)
export function getDependentMap(packages: PackageInfos): Map<string, Set<string>>;

// @public
export function getFileAddedHash(filename: string, cwd: string): string | undefined;

// @public (undocumented)
export function getFullBranchRef(branch: string, cwd: string): string | null;

// Warning: (ae-forgotten-export) The symbol "getPackageDependencies" needs to be exported by the entry point index.d.ts
//
// @public @deprecated (undocumented)
export const getInternalDeps: typeof getPackageDependencies;

// @public (undocumented)
function getPackageDependencies(info: PackageInfo, packages: Set<string>, options?: PackageDependenciesOptions): string[];

// @public (undocumented)
export function getPackageInfos(cwd: string): PackageInfos;

// @public (undocumented)
export function getPackageInfosAsync(cwd: string): Promise<PackageInfos>;

// @public
export function getPackagesByFiles(workspaceRoot: string, files: string[], ignoreGlobs?: string[], returnAllPackagesOnNoMatch?: boolean): string[];

// @public (undocumented)
export function getParentBranch(cwd: string): string | null;

// @public @deprecated (undocumented)
export function getPnpmWorkspaceRoot(cwd: string): string;

// @public
export function getPnpmWorkspaces(cwd: string): WorkspaceInfo;

// @public (undocumented)
export function getRecentCommitMessages(branch: string, cwd: string): string[];

// @public (undocumented)
export function getRemoteBranch(branch: string, cwd: string): string | null;

// @public @deprecated (undocumented)
export function getRushWorkspaceRoot(cwd: string): string;

// @public
export function getRushWorkspaces(cwd: string): WorkspaceInfo;

// @public
export function getScopedPackages(search: string[], packages: {
    [pkg: string]: unknown;
} | string[]): string[];

// @public (undocumented)
export function getShortBranchName(fullBranchRef: string, cwd: string): string | null;

// @public (undocumented)
export function getStagedChanges(cwd: string): string[];

// @public @deprecated
export function getTransitiveConsumers(targets: string[], packages: PackageInfos, scope?: string[]): string[];

// @public @deprecated (undocumented)
export const getTransitiveDependencies: typeof getTransitiveProviders;

// @public @deprecated (undocumented)
export const getTransitiveDependents: typeof getTransitiveConsumers;

// @public @deprecated
export function getTransitiveProviders(targets: string[], packages: PackageInfos): string[];

// @public
export function getUnstagedChanges(cwd: string): string[];

// @public (undocumented)
export function getUntrackedChanges(cwd: string): string[];

// @public (undocumented)
export function getUserEmail(cwd: string): string | null;

// @public
export function getWorkspacePackagePaths(cwd: string): string[];

// @public
export function getWorkspacePackagePathsAsync(cwd: string): Promise<string[]>;

// Warning: (ae-forgotten-export) The symbol "WorkspaceManager" needs to be exported by the entry point index.d.ts
//
// @public
export function getWorkspaceRoot(cwd: string, preferredManager?: WorkspaceManager): string | undefined;

// @public
export function getWorkspaces(cwd: string): WorkspaceInfo;

// @public
export function getWorkspacesAsync(cwd: string): Promise<WorkspaceInfo>;

// @public @deprecated (undocumented)
export function getYarnWorkspaceRoot(cwd: string): string;

// @public
export function getYarnWorkspaces(cwd: string): WorkspaceInfo;

// @public
export function git(args: string[], options?: SpawnSyncOptions): GitProcessOutput;

// @public (undocumented)
export class GitError extends Error {
    constructor(message: string, originalError?: unknown);
    // (undocumented)
    originalError: unknown;
}

// @public
export function gitFailFast(args: string[], options?: SpawnSyncOptions & {
    noExitCode?: boolean;
}): void;

// @public
export type GitObserver = (args: string[], output: GitProcessOutput) => void;

// @public (undocumented)
export type GitProcessOutput = {
    stderr: string;
    stdout: string;
    success: boolean;
} & Omit<SpawnSyncReturns<string | Buffer>, "stdout" | "stderr">;

// @public (undocumented)
export function init(cwd: string, email?: string, username?: string): void;

// @public (undocumented)
export function isChildOf(child: string, parent: string): boolean;

// @public (undocumented)
export function listAllTrackedFiles(patterns: string[], cwd: string): string[];

// @public (undocumented)
export function listOfWorkspacePackageNames(workspaces: WorkspaceInfo): string[];

// @public (undocumented)
export type LockDependency = {
    version: string;
    dependencies?: Dependencies;
};

// @public (undocumented)
export function nameAtVersion(name: string, version: string): string;

// @public (undocumented)
export interface NpmLockFile {
    // (undocumented)
    dependencies?: {
        [key: string]: LockDependency;
    };
    // (undocumented)
    lockfileVersion?: 1 | 2 | 3;
    // (undocumented)
    name: string;
    // (undocumented)
    packages?: {
        ""?: NpmWorkspacesInfo;
    } & {
        [key: string]: NpmSymlinkInfo | LockDependency;
    };
    // (undocumented)
    requires?: boolean;
    // (undocumented)
    version: string;
}

// @public (undocumented)
export interface NpmSymlinkInfo {
    // (undocumented)
    dependencies?: {
        [key: string]: LockDependency;
    };
    // (undocumented)
    dev?: boolean;
    // (undocumented)
    devOptional?: boolean;
    // (undocumented)
    integrity?: "sha512" | "sha1";
    // (undocumented)
    link: boolean;
    // (undocumented)
    optional?: boolean;
    // (undocumented)
    resolved: string;
}

// @public (undocumented)
export interface NpmWorkspacesInfo {
    // (undocumented)
    version: string;
    // (undocumented)
    workspaces: {
        packages: string[];
    };
}

// @public (undocumented)
interface PackageDependenciesOptions {
    // (undocumented)
    withDevDependencies?: boolean;
    // (undocumented)
    withPeerDependencies?: boolean;
}

// @public
export interface PackageDependency {
    // (undocumented)
    dependency: string;
    // (undocumented)
    name: string;
}

// @public
export interface PackageGraph {
    // (undocumented)
    dependencies: PackageDependency[];
    // (undocumented)
    packages: string[];
}

// @public (undocumented)
export interface PackageGraphFilter {
    // (undocumented)
    includeDependencies?: boolean;
    // (undocumented)
    includeDependents?: boolean;
    // (undocumented)
    namePatterns: string[];
    // (undocumented)
    withDevDependencies?: boolean;
    // (undocumented)
    withPeerDependencies?: boolean;
}

// @public (undocumented)
export interface PackageInfo {
    // (undocumented)
    [key: string]: any;
    // (undocumented)
    dependencies?: {
        [dep: string]: string;
    };
    // (undocumented)
    devDependencies?: {
        [dep: string]: string;
    };
    // (undocumented)
    group?: string;
    // (undocumented)
    name: string;
    // (undocumented)
    packageJsonPath: string;
    // (undocumented)
    peerDependencies?: {
        [dep: string]: string;
    };
    // (undocumented)
    private?: boolean;
    // (undocumented)
    repository?: string | {
        type: string;
        url: string;
        directory?: string;
    };
    // (undocumented)
    scripts?: {
        [scriptName: string]: string;
    };
    // (undocumented)
    version: string;
}

// @public (undocumented)
export interface PackageInfos {
    // (undocumented)
    [pkgName: string]: PackageInfo;
}

// @public (undocumented)
export type ParsedLock = {
    type: "success" | "merge" | "conflict";
    object: {
        [key in string]: LockDependency;
    };
};

// @public (undocumented)
export function parseLockFile(packageRoot: string): Promise<ParsedLock>;

// @public (undocumented)
export function parseRemoteBranch(branch: string): {
    remote: string;
    remoteBranch: string;
};

// @public (undocumented)
export interface PnpmLockFile {
    // (undocumented)
    packages: {
        [name: string]: any;
    };
}

// @public (undocumented)
export function queryLockFile(name: string, versionRange: string, lock: ParsedLock): LockDependency;

// @public (undocumented)
export function _resetPackageJsonFilesCache(): void;

// @public (undocumented)
export function revertLocalChanges(cwd: string): boolean;

// @public
export function searchUp(filePath: string | string[], cwd: string): string | undefined;

// @public
export function setCachingEnabled(enabled: boolean): void;

// @public (undocumented)
export function stage(patterns: string[], cwd: string): void;

// @public (undocumented)
export function stageAndCommit(patterns: string[], message: string, cwd: string, commitOptions?: string[]): void;

// @public
export type WorkspaceInfo = {
    name: string;
    path: string;
    packageJson: PackageInfo;
}[];

// @public (undocumented)
type WorkspaceManager = "yarn" | "pnpm" | "rush" | "npm" | "lerna";

// (No @packageDocumentation comment for this package)

```
